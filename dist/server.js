import dotenv from 'dotenv';
dotenv.config();
import app from './app.js';
import { startEnviarConfirmacoesJob } from './jobs/enviarConfirmacoesJob.js';
import { startGerarConsultasRecorrentesJob } from './jobs/gerarConsultasRecorrentesJob.js';
const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
    console.log(`\nğŸš€ Servidor rodando na porta ${PORT}`);
    console.log(`ğŸ“ Frontend: http://localhost:${PORT}/`);
    console.log(`ğŸ“ Health check: http://localhost:${PORT}/health`);
    console.log(`ğŸ“‹ API Endpoints disponÃ­veis:`);
    console.log(`   POST   /api/pacientes`);
    console.log(`   GET    /api/pacientes`);
    console.log(`   POST   /api/recorrencias`);
    console.log(`   GET    /api/recorrencias`);
    console.log(`   GET    /api/consultas`);
    console.log(`   PATCH  /api/consultas/:id/status`);
    console.log(`   POST   /api/webhook/whatsapp`);
    console.log();
    console.log('â° Iniciando cron jobs...');
    startEnviarConfirmacoesJob();
    startGerarConsultasRecorrentesJob();
    console.log('âœ… Sistema de confirmaÃ§Ã£o de consultas iniciado!\n');
});
